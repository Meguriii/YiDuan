<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.business.mapper.BizPackMapper">
    
    <resultMap type="BizPack" id="BizPackResult">
        <result property="packId"    column="pack_id"    />
        <result property="senderId"    column="sender_id"    />
        <result property="senderProv"    column="sender_prov"    />
        <result property="senderCity"    column="sender_city"    />
        <result property="senderDist"    column="sender_dist"    />
        <result property="senderAddrDetail"    column="sender_addr_detail"    />
        <result property="receiverId"    column="receiver_id"    />
        <result property="receiverName"    column="receiver_name"    />
        <result property="receiverTel"    column="receiver_tel"    />
        <result property="receiverProv"    column="receiver_prov"    />
        <result property="receiverCity"    column="receiver_city"    />
        <result property="receiverDist"    column="receiver_dist"    />
        <result property="receiverAddrDetail"    column="receiver_addr_detail"    />
        <result property="weight"    column="weight"    />
        <result property="volume"    column="volume"    />
        <result property="note"    column="note"    />
        <result property="isDangerous"    column="is_dangerous"    />
        <result property="isFragile"    column="is_fragile"    />
        <result property="isUrgent"    column="is_urgent"    />
        <result property="status"    column="status"    />
        <result property="pickupCode"    column="pickup_code"    />
        <result property="createdAt"    column="created_at"    />
        <result property="updatedAt"    column="updated_at"    />
    </resultMap>

    <sql id="selectBizPackVo">
        select pack_id, sender_id, sender_prov, sender_city, sender_dist, sender_addr_detail, receiver_id, receiver_name, receiver_tel, receiver_prov, receiver_city, receiver_dist, receiver_addr_detail, weight, volume, note, is_dangerous, is_fragile, is_urgent, status, pickup_code, created_at, updated_at from biz_pack
    </sql>

    <select id="selectBizPackList" parameterType="BizPack" resultMap="BizPackResult">
        <include refid="selectBizPackVo"/>
        <where>  
            <if test="senderId != null  and senderId != ''"> and sender_id = #{senderId}</if>
            <if test="senderProv != null  and senderProv != ''"> and sender_prov = #{senderProv}</if>
            <if test="senderCity != null  and senderCity != ''"> and sender_city = #{senderCity}</if>
            <if test="senderDist != null  and senderDist != ''"> and sender_dist = #{senderDist}</if>
            <if test="senderAddrDetail != null  and senderAddrDetail != ''"> and sender_addr_detail = #{senderAddrDetail}</if>
            <if test="receiverId != null  and receiverId != ''"> and receiver_id = #{receiverId}</if>
            <if test="receiverName != null  and receiverName != ''"> and receiver_name like concat('%', #{receiverName}, '%')</if>
            <if test="receiverTel != null  and receiverTel != ''"> and receiver_tel = #{receiverTel}</if>
            <if test="receiverProv != null  and receiverProv != ''"> and receiver_prov = #{receiverProv}</if>
            <if test="receiverCity != null  and receiverCity != ''"> and receiver_city = #{receiverCity}</if>
            <if test="receiverDist != null  and receiverDist != ''"> and receiver_dist = #{receiverDist}</if>
            <if test="receiverAddrDetail != null  and receiverAddrDetail != ''"> and receiver_addr_detail = #{receiverAddrDetail}</if>
            <if test="weight != null "> and weight = #{weight}</if>
            <if test="volume != null "> and volume = #{volume}</if>
            <if test="note != null  and note != ''"> and note = #{note}</if>
            <if test="isDangerous != null "> and is_dangerous = #{isDangerous}</if>
            <if test="isFragile != null "> and is_fragile = #{isFragile}</if>
            <if test="isUrgent != null "> and is_urgent = #{isUrgent}</if>
            <if test="status != null  and status != ''"> and status = #{status}</if>
            <if test="pickupCode != null  and pickupCode != ''"> and pickup_code = #{pickupCode}</if>
            <if test="createdAt != null "> and created_at = #{createdAt}</if>
            <if test="updatedAt != null "> and updated_at = #{updatedAt}</if>
        </where>
    </select>
    
    <select id="selectBizPackByPackId" parameterType="String" resultMap="BizPackResult">
        <include refid="selectBizPackVo"/>
        where pack_id = #{packId}
    </select>

    <insert id="insertBizPack" parameterType="BizPack" useGeneratedKeys="true" keyProperty="packId">
        insert into biz_pack
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="senderId != null and senderId != ''">sender_id,</if>
            <if test="senderProv != null and senderProv != ''">sender_prov,</if>
            <if test="senderCity != null and senderCity != ''">sender_city,</if>
            <if test="senderDist != null and senderDist != ''">sender_dist,</if>
            <if test="senderAddrDetail != null and senderAddrDetail != ''">sender_addr_detail,</if>
            <if test="receiverId != null">receiver_id,</if>
            <if test="receiverName != null and receiverName != ''">receiver_name,</if>
            <if test="receiverTel != null and receiverTel != ''">receiver_tel,</if>
            <if test="receiverProv != null and receiverProv != ''">receiver_prov,</if>
            <if test="receiverCity != null and receiverCity != ''">receiver_city,</if>
            <if test="receiverDist != null and receiverDist != ''">receiver_dist,</if>
            <if test="receiverAddrDetail != null and receiverAddrDetail != ''">receiver_addr_detail,</if>
            <if test="weight != null">weight,</if>
            <if test="volume != null">volume,</if>
            <if test="note != null">note,</if>
            <if test="isDangerous != null">is_dangerous,</if>
            <if test="isFragile != null">is_fragile,</if>
            <if test="isUrgent != null">is_urgent,</if>
            <if test="status != null and status != ''">status,</if>
            <if test="pickupCode != null">pickup_code,</if>
            <if test="createdAt != null">created_at,</if>
            <if test="updatedAt != null">updated_at,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="senderId != null and senderId != ''">#{senderId},</if>
            <if test="senderProv != null and senderProv != ''">#{senderProv},</if>
            <if test="senderCity != null and senderCity != ''">#{senderCity},</if>
            <if test="senderDist != null and senderDist != ''">#{senderDist},</if>
            <if test="senderAddrDetail != null and senderAddrDetail != ''">#{senderAddrDetail},</if>
            <if test="receiverId != null">#{receiverId},</if>
            <if test="receiverName != null and receiverName != ''">#{receiverName},</if>
            <if test="receiverTel != null and receiverTel != ''">#{receiverTel},</if>
            <if test="receiverProv != null and receiverProv != ''">#{receiverProv},</if>
            <if test="receiverCity != null and receiverCity != ''">#{receiverCity},</if>
            <if test="receiverDist != null and receiverDist != ''">#{receiverDist},</if>
            <if test="receiverAddrDetail != null and receiverAddrDetail != ''">#{receiverAddrDetail},</if>
            <if test="weight != null">#{weight},</if>
            <if test="volume != null">#{volume},</if>
            <if test="note != null">#{note},</if>
            <if test="isDangerous != null">#{isDangerous},</if>
            <if test="isFragile != null">#{isFragile},</if>
            <if test="isUrgent != null">#{isUrgent},</if>
            <if test="status != null and status != ''">#{status},</if>
            <if test="pickupCode != null">#{pickupCode},</if>
            <if test="createdAt != null">#{createdAt},</if>
            <if test="updatedAt != null">#{updatedAt},</if>
         </trim>
    </insert>

    <update id="updateBizPack" parameterType="BizPack">
        update biz_pack
        <trim prefix="SET" suffixOverrides=",">
            <if test="senderId != null and senderId != ''">sender_id = #{senderId},</if>
            <if test="senderProv != null and senderProv != ''">sender_prov = #{senderProv},</if>
            <if test="senderCity != null and senderCity != ''">sender_city = #{senderCity},</if>
            <if test="senderDist != null and senderDist != ''">sender_dist = #{senderDist},</if>
            <if test="senderAddrDetail != null and senderAddrDetail != ''">sender_addr_detail = #{senderAddrDetail},</if>
            <if test="receiverId != null">receiver_id = #{receiverId},</if>
            <if test="receiverName != null and receiverName != ''">receiver_name = #{receiverName},</if>
            <if test="receiverTel != null and receiverTel != ''">receiver_tel = #{receiverTel},</if>
            <if test="receiverProv != null and receiverProv != ''">receiver_prov = #{receiverProv},</if>
            <if test="receiverCity != null and receiverCity != ''">receiver_city = #{receiverCity},</if>
            <if test="receiverDist != null and receiverDist != ''">receiver_dist = #{receiverDist},</if>
            <if test="receiverAddrDetail != null and receiverAddrDetail != ''">receiver_addr_detail = #{receiverAddrDetail},</if>
            <if test="weight != null">weight = #{weight},</if>
            <if test="volume != null">volume = #{volume},</if>
            <if test="note != null">note = #{note},</if>
            <if test="isDangerous != null">is_dangerous = #{isDangerous},</if>
            <if test="isFragile != null">is_fragile = #{isFragile},</if>
            <if test="isUrgent != null">is_urgent = #{isUrgent},</if>
            <if test="status != null and status != ''">status = #{status},</if>
            <if test="pickupCode != null">pickup_code = #{pickupCode},</if>
            <if test="createdAt != null">created_at = #{createdAt},</if>
            <if test="updatedAt != null">updated_at = #{updatedAt},</if>
        </trim>
        where pack_id = #{packId}
    </update>

    <delete id="deleteBizPackByPackId" parameterType="String">
        delete from biz_pack where pack_id = #{packId}
    </delete>

    <delete id="deleteBizPackByPackIds" parameterType="String">
        delete from biz_pack where pack_id in 
        <foreach item="packId" collection="array" open="(" separator="," close=")">
            #{packId}
        </foreach>
    </delete>
</mapper>